<?xml version="1.0" encoding='UTF-8'?>
<Widget name="Tag Cloud" group="Visualizations/Clouds" premium="true">

	<Description>This widget displays a tag cloud (or weighted list) to represent key tags. Tags are usually single words, and the importance of each tag is shown with font size or color.</Description>

	<Preview>
	<![CDATA[
		<img src="/resources/widgets/tagCloud/images/preview_tagcloud.png" alt="Tag Cloud Preview" />
	]]>
	</Preview>

	<Includes>
		<Include type="css" path="css/style.less" />
	</Includes>

	<SupportFeedsId arity="MANY" />
	<SupportI18N supported="true" />

	<OptionsGroup name="General">
		<Option id="title" name="Widget title" isEvaluated="true">
			<Description>Widget title. If blank, no name is displayed.</Description>		
		</Option>
		<Option id="facetPageName" name="Destination page on click" isUrlEncoded="true" isEvaluated="true">
			<Description>Indicates the URL that must be accessed for a refinement option. If blank, you stay on the same page.</Description>
			<Functions>
				<ContextMenu>Pages()</ContextMenu>
			</Functions>
		</Option>
		<Option id="facetRoot" name="Facets list" arity="ONE">
			<Description>Specifies the facets to display in the cloud. They must be separated by commas.</Description>		
			<Functions>
				<ContextMenu>NormalFacets()</ContextMenu>
				<ContextMenu>Hierarchical2DFacets()</ContextMenu>
				<ContextMenu>COMMON_appendOnChange(', ')</ContextMenu>
			</Functions>
		</Option>
		<Option id="limit" name="Number of tags displayed">
			<Description>Specifies the maximum number of tags to display. You must enter an integer.</Description>
			<Functions>
				<Check>isInteger</Check>
			</Functions>
		</Option>
		<Option id="sortModeFacets" name="Sort facets by">
			<Description>
				Sorts the facets using the selected method. Selecting anything but 'default' impacts performance.
			</Description>
			<Values>
				<Value>default</Value>
				<Value>description-asc</Value>
				<Value>description-desc</Value>
				<Value>shuffle</Value>
			</Values>
		</Option>
		<Option id="sort" name="Sort categories by" arity="ONE">
			<Description>
				Sorts the categories using the selected method. Selecting anything but 'default' impacts performance. 
			</Description>
			<Values>
				<Value>default</Value>
				<Value>description-asc</Value>
				<Value>description-desc</Value>
				<Value>score-asc</Value>
				<Value>score-desc</Value>
				<Value>count-asc</Value>
				<Value>count-desc</Value>
				<Value>range-asc</Value>
				<Value>range-desc</Value>
				<Value>shuffle</Value>
			</Values>
		</Option>
		<Option id="countOrScore" name="Aggregation" arity="ONE">
			<Description>Specifies the type of aggregation that will be used by the chart.</Description>
			<Functions>
				<ContextMenu>Aggregations()</ContextMenu>
				<ContextMenu>COMMON_emptyOnChange()</ContextMenu>
			</Functions>
		</Option>
		<Option id="iteration" name="Iteration mode" arity="ONE">
			<Description>
				<![CDATA[
					Determines what data is displayed:
					<ul>
						<li>'all' visits the first child of each node before processing its siblings,</li>
						<li>'leaves' iterates recursively, returning the end nodes,</li>
						<li>'flat' returns only the first level.</li>
					</ul>
				]]>
			</Description>
			<Values>
				<Value>flat</Value>
				<Value>leaves</Value>
				<Value>all</Value>
			</Values>
		</Option>
	</OptionsGroup>

	<OptionsGroup name="Style">
		<Option id="maxFontSize" name="Max font size" arity="ONE">
			<Description>Specifies the maximum font size. You must enter an integer.</Description>		
			<Functions>
				<Check>isInteger</Check>
			</Functions>
		</Option>
		<Option id="minFontSize" name="Min font size" arity="ONE">
			<Description>Specifies the minimum font size. You must enter an integer.</Description>			
			<Functions>
				<Check>isInteger</Check>
			</Functions>
		</Option>
		<Option id="minFontThreshold" name="Clamp to min font threshold"
			arity="ONE">
			<Description>
				When the score is below this threshold, the size of the tag is clamped to 'Min font size'.
				(x E [0.0, 1.0], where 1.0 includes all tags, 0.0 includes none)
			</Description>
			<Values>
				<Value>0.0</Value>
				<Value>0.1</Value>
				<Value>0.2</Value>
				<Value>0.3</Value>
				<Value>0.4</Value>
				<Value>0.5</Value>
				<Value>0.6</Value>
				<Value>0.7</Value>
				<Value>0.8</Value>
				<Value>0.9</Value>
				<Value>1.0</Value>
			</Values>
		</Option>
		<Option id="fadeEnabled" name="Enable opacity tweak" arity="ONE">
			<Description>Tweaks the opacity of the tags whose score falls below 'minFontThreshold'</Description>
			<Values>
				<Value>false</Value>
				<Value>true</Value>
			</Values>
		</Option>
		<Option id="randomDisplace" name="Organic look" arity="ONE">
			<Description>Moves tags randomly to give the cloud a more organic look.</Description>
			<Values>
				<Value>false</Value>
				<Value>true</Value>
			</Values>
		</Option>
		<Option id="distinctFacets" name="Facet distinction" arity="ONE">
			<Description>Allows to apply common styles for tags from different facets.</Description>
			<Values>
				<Value>false</Value>
				<Value>true</Value>
			</Values>
		</Option>
	</OptionsGroup>
	
	<OptionsGroup name="Advanced">
		<Option id="forceRefineOnFeeds" name="Force refinement for feeds" arity="ZERO_OR_MANY">
			<Description>Forces refinements on the specified feeds.</Description>
			<Functions>
				<ContextMenu>WIDGET_getFeeds(true)</ContextMenu>
				<ContextMenu>COMMON_emptyOnChange()</ContextMenu>
			</Functions>
		</Option>
	</OptionsGroup>
	
	<DefaultValues>
		<DefaultValue name="sortModeFacets">default</DefaultValue>
		<DefaultValue name="sort">description-asc</DefaultValue>
		<DefaultValue name="countOrScore">count</DefaultValue>
		<DefaultValue name="iteration">leaves</DefaultValue>
		<DefaultValue name="maxFontSize">18</DefaultValue>
		<DefaultValue name="minFontSize">12</DefaultValue>
		<DefaultValue name="minFontThreshold">0.3</DefaultValue>
		<DefaultValue name="fadeEnabled">true</DefaultValue>
		<DefaultValue name="randomDisplace">false</DefaultValue>
		<DefaultValue name="distinctFacets">false</DefaultValue>
	</DefaultValues>
</Widget>
