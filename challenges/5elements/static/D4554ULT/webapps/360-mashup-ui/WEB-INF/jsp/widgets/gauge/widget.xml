<?xml version="1.0" encoding='UTF-8'?>
<Widget name="Gauge" group="Visualizations/Charts">

	<Description>A gauge.</Description>

	<Preview>
		<![CDATA[
			<img src="/resources/widgets/gauge/img/preview.png" alt="Gauge" />
		]]>
	</Preview>
	
	<Includes>
		<Include type="js" path="/resources/highcharts/js/highcharts.src.js" />
		<Include type="js" path="/resources/highcharts/js/highcharts-more.js" />
	</Includes>

	<Platforms>
		<Platform type="web" supported="true" />
		<Platform type="mobile" supported="true" />
	</Platforms>

	<SupportWidgetsId arity="ZERO" />
	<SupportFeedsId arity="ZERO_OR_MANY" />

	<OptionsGroup name="General">
		<Option id="title" name="Widget title" arity="ZERO_OR_ONE" isEvaluated="true">
			<Description>Widget title. If blank, no title is displayed.</Description>
		</Option>
		<Option id="value" name="Gauge value" isEvaluated="true">
			<Description>Value.</Description>
		</Option>
		<Option id="minValue" name="Min value" isEvaluated="true" arity="ONE">
			<Description>Min value.</Description>
		</Option>
		<Option id="maxValue" name="Max value" isEvaluated="true" arity="ONE">
			<Description>Max value.</Description>
		</Option>
		<Option id="unit" name="Unit" isEvaluated="true">
			<Description>Unit.</Description>
		</Option>
		<OptionComposite id="ranges" name="Ranges" arity="ZERO_OR_MANY">
			<Option id="minRange" name="Range min">
				<Description>Min range.</Description>
				<Functions>
					<Check>isEmpty</Check>
				</Functions>
			</Option>
			<Option id="maxRange" name="Range max">
				<Description>Max range.</Description>
				<Functions>
					<Check>isEmpty</Check>
				</Functions>
			</Option>
			<Option id="colorRange" name="Range Color">
				<Description>Color of the range.</Description>
				<Functions>
					<Check>isEmpty</Check>
				</Functions>
			</Option>		
		</OptionComposite>
	</OptionsGroup>
	
	<OptionsGroup name="JavaScript">
		<Option id="opts" name="JavaScript options" arity="ONE" isEvaluated="true">
			<Description>Lets you customize some javascript options used by the Highcharts library. Your javascript options will overwrite the default ones. For example, it can be useful to redirect clicks on pages. </Description>		
			<Values>
				<Value><![CDATA[
{
	chart: {
        plotBackgroundColor: null,
        plotBackgroundImage: null,
        plotBorderWidth: 0,
        plotShadow: false
    },	    
    title: {
        text: null
    },
    credits: {
		enabled: false
	},
    pane: {
        startAngle: -150,
        endAngle: 150,
        background: [{
            backgroundColor: {
                linearGradient: { x1: 0, y1: 0, x2: 0, y2: 1 },
                stops: [
                    [0, '#FFF'],
                    [1, '#333']
                ]
            },
            borderWidth: 0,
            outerRadius: '109%'
        }, {
            backgroundColor: {
                linearGradient: { x1: 0, y1: 0, x2: 0, y2: 1 },
                stops: [
                    [0, '#333'],
                    [1, '#FFF']
                ]
            },
            borderWidth: 1,
            outerRadius: '107%'
        }, {
            // default background
        }, {
            backgroundColor: '#DDD',
            borderWidth: 0,
            outerRadius: '105%',
            innerRadius: '103%'
        }]
    },
       
    // the value axis
    yAxis: {				        
        minorTickInterval: 'auto',
        minorTickWidth: 1,
        minorTickLength: 10,
        minorTickPosition: 'inside',
        minorTickColor: '#666',

        tickPixelInterval: 30,
        tickWidth: 2,
        tickPosition: 'inside',
        tickLength: 10,
        tickColor: '#666',
        labels: {
            step: 2,
            rotation: 'auto'
        },
        title: {
            text: null
        }
    },
    tooltip: {
	 	backgroundColor: '#222',
           borderWidth: 0,
           style: {
               color: '#fff'
           }
	}
}
				]]></Value>
			</Values>
			<Functions>
				<Display>SetType('code', 'js')</Display>
			</Functions>
		</Option>
	</OptionsGroup>
	
	<OptionsGroup name="Style">
		<Option id="width" name="Width">
			<Description>Specifies the width of the widget (pixels). You must enter an integer.</Description>		
			<Functions>
				<Check>isInteger</Check>
			</Functions>
		</Option>
		<Option id="height" name="Height" arity="ONE">
			<Description>Specifies the height of the widget (pixels). You must enter an integer.</Description>			
			<Functions>
				<Check>isInteger</Check>
			</Functions>
		</Option>
	</OptionsGroup>

	
	<DefaultValues>
		<DefaultValue name="height">180</DefaultValue>
	</DefaultValues>
</Widget>
