<?xml version="1.0" encoding='UTF-8'?>
<Widget name="2D Data Table" group="Tables" premium="true">

	<Description>A 2D data table chart shows facet values using an horizontal header row and a vertical column row. </Description>
	
	<Preview>
		<![CDATA[
			<img src="/resources/widgets/categoryTable2D/images/preview.png" alt="2D Data Table" />
		]]>
	</Preview>
	
	<Includes>
		<Include type="css" path="css/style.less" />
	</Includes>

	<SupportWidgetsId arity="ZERO" />
	<SupportFeedsId arity="MANY" />
	<SupportI18N supported="true" />

	<DefaultValues>
		<DefaultValue name="facetType">auto</DefaultValue>
		<DefaultValue name="showSummaries">true</DefaultValue>
		<DefaultValue name="displayModes">count##Count</DefaultValue>
	</DefaultValues>

	<OptionsGroup name="General">
		<Option id="title" name="Widget Title" isEvaluated="true">
			<Description>Widget title. If blank, no title is displayed.</Description>
		</Option>
		<Option id="facetPageName" name="Destination page on click" isUrlEncoded="true" isEvaluated="true">
			<Description>Indicates the URL that must be accessed for a refinement option. If blank, you stay on the same page.</Description>
			<Functions>
				<ContextMenu>Pages()</ContextMenu>
			</Functions>
		</Option>
		<Option id="facetsList" name="Facet ID" arity="ONE">
			<Description>Specifies the facet to display in the table.</Description>
			<Functions>
				<ContextMenu>NormalFacets()</ContextMenu>
				<ContextMenu>Hierarchical2DFacets()</ContextMenu> 
				<ContextMenu>MultiDimension2DFacets()</ContextMenu> 
				<ContextMenu>emptyOnChange()</ContextMenu>
			</Functions>
		</Option>
		<Option id="facetType" name="Facet type" arity="ONE">
			<Description>Specifies the facet type.</Description>
			<Values>
				<Value>auto</Value>
				<Value>multi_dimension</Value>
				<Value>hierarchical_2d</Value>
				<Value>legacy_2d</Value>
			</Values>
		</Option>
		<OptionComposite id="displayModes" name="Aggregations" arity="MANY" glue="##">
			<Option id="displayMode" name="Aggregation" arity="ONE">
				<Description>Defines on which type of aggregation the table will be based on.</Description>
				<Functions>
					<ContextMenu>Aggregations('facetsList')</ContextMenu>
					<ContextMenu>COMMON_emptyOnChange()</ContextMenu>
				</Functions>
			</Option>
			<Option id="label" name="Label" arity="ONE">
				<Description>The column label</Description>
			</Option>
		</OptionComposite>
		<Option id="showSummaries" name="Show summaries">
			<Description>Displays a 'Total' column and a 'Total' row in the table.</Description>		
			<Values>
				<Value>false</Value>
				<Value>true</Value>
			</Values>
		</Option>
	</OptionsGroup>

	<OptionsGroup name="Advanced">
		<Option id="noResultsJspPathHit" name="JSP path to use if no results" arity="ONE">
			<Description>If there are no results, the widget is either hidden using a trigger, or a message is displayed using the content of a JSP file.</Description>
			<Functions>
				<Check>isJspPath</Check>
			</Functions>
			<Values>
				<Value>/WEB-INF/jsp/commons/noFacets.jsp</Value>
			</Values>
		</Option>
		<Option id="forceRefineOnFeeds" name="Force refinement for feeds" arity="ZERO_OR_MANY">
			<Description>Forces refinements on the specified feeds.</Description>
			<Functions>
				<ContextMenu>Feeds()</ContextMenu>
				<ContextMenu>COMMON_emptyOnChange()</ContextMenu>
			</Functions>
		</Option>
	</OptionsGroup>
</Widget>
