<?xml version="1.0" encoding='UTF-8'?>
<Widget name="Form" group="Form Controls">
	<Description>Provides an HTML form where you can add controls to submit information.</Description>

	<Includes>
		<Include type="js" path="/resources/javascript/jquery.validate.js" />
		<Include type="js" path="/resources/javascript/exa/io/io.js" />
		<Include type="js" path="/resources/javascript/exa/io/FormInterface.js" />
		<Include type="js" path="/resources/javascript/exa/geo/geo.js" />
 		<Include type="js" path="javascript/searchActions.js" />
 		<Include type="js" path="/resources/javascript/jquery.cookie.js" />
 		<Include type="js" path="/resources/javascript/jquery.json-2.2.js" />
	</Includes>

	<SupportWidgetsId arity="ZERO_OR_MANY" />
	<SupportFeedsId arity="ZERO" />
	<SupportI18N supported="true" />
	
	<DefaultValues>
		<DefaultValue name="action"></DefaultValue>
		<DefaultValue name="method">GET</DefaultValue>
		<DefaultValue name="focus">true</DefaultValue>
		
		<DefaultValue name="geoEnable">false</DefaultValue>
		<DefaultValue name="geoLatitude">lat</DefaultValue>
		<DefaultValue name="geoLongitude">lon</DefaultValue>
		<DefaultValue name="geoMaximumAge">5000</DefaultValue>
	</DefaultValues>

	<Interactions>
		<Interaction type="out" id="exa.io.FormInterface"></Interaction>
		<Interaction type="in" id="exa.io.GeoInterface">
			<Description>Restrict the search in this area</Description>
			<Option id="geoDataInputName" name="Input parameter" arity="ZERO_OR_ONE">
				<Description>Specifies the geographic Parameter Name associated with the input submitted for the entry box.</Description>
				<Functions>
					<ContextMenu>PageParameters()</ContextMenu>
					<ContextMenu>COMMON_emptyOnChange()</ContextMenu>
				</Functions>
			</Option>
			<Option id="geoMetaName" name="Geographical index field" arity="ZERO_OR_ONE">
				<Description>Specifies the name of the geographic index field to search with.</Description>
				<Functions>
					<ContextMenu>Metas()</ContextMenu>
					<ContextMenu>COMMON_emptyOnChange()</ContextMenu>
				</Functions>
			</Option>
		</Interaction>
	</Interactions>

	<OptionsGroup name="General">
		<Option id="action" name="Action" arity="ZERO_OR_ONE">
			<Description>Specifies the URL to use when form is submitted</Description>
			<Functions>
				<ContextMenu>Pages()</ContextMenu>
				<ContextMenu>COMMON_emptyOnChange()</ContextMenu>
			</Functions>
		</Option>
		<Option id="method" name="Method" arity="ONE">
			<Description>Specifies the HTTP method used to submit the form. Note that the Mashup pages does not handle 'POST' request.</Description>
			<Values>
				<Value>GET</Value>
				<Value>POST</Value>
			</Values>
		</Option>
		<Option id="focus" name="Auto focus" arity="ZERO_OR_ONE">
			<Description>Places the text input caret on search field upon document load.</Description>
			<Values>
				<Value>false</Value>
				<Value>true</Value>
			</Values>
		</Option>
	</OptionsGroup>

	<OptionsGroup name="Geolocation">
		<Option id="geoEnable" name="Enable geolocation" arity="ONE">
			<Description>
				<![CDATA[
					Injects the position of the user in the search form.<br />
					Warning: This option requires a browser that supports HTML5 Geolocation specification.<br />
					It will not work for older browsers and for Internet Explorer.
				]]>			
			</Description>
			<Values>
				<Value>false</Value>
				<Value>true</Value>
			</Values>
			<Functions>
				<Display>PARAMETER_doHide('true', [], ['geoLatitude', 'geoLongitude', 'geoMaximumAge'], true, false)</Display>
			</Functions>
		</Option>
		<Option id="geoLatitude" name="Latitude parameter" arity="ONE">
			<Description>Parameter name associated with the user latitude.</Description>
			<Functions>
				<ContextMenu>PageParameters()</ContextMenu>
				<ContextMenu>COMMON_emptyOnChange()</ContextMenu>
			</Functions>
		</Option>
		<Option id="geoLongitude" name="Longitude parameter" arity="ONE">
			<Description>Parameter name associated with the user longitude.</Description>
			<Functions>
				<ContextMenu>PageParameters()</ContextMenu>
				<ContextMenu>COMMON_emptyOnChange()</ContextMenu>
			</Functions>
		</Option>
		<Option id="geoMaximumAge" name="Maximum age" arity="ONE">
			<Description>Accepts a cached position whose age is no greater than the specified time in milliseconds. If 0 then the answer is not cached.</Description>
			<Functions>
				<Check>isInteger</Check>
			</Functions>
		</Option>
	</OptionsGroup>
</Widget> 